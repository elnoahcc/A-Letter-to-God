<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Letter to God</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Great+Vibes&family=Indie+Flower&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg-color: #2c0e0e;
            --bg-gradient: radial-gradient(circle at center, #5e0000 0%, #2a0000 100%);
            --env-color: #8a0e0e;
            --env-dark: #6e0000;
            --env-flap: #9e1414;
            --paper-color: #f5e6d3;
            --text-color: #2c0e0e;
            --accent-gold: #d4af37;
            --shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.5);
            --env-width: min(90vw, 500px);
            --env-height: min(60vw, 350px);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: var(--bg-gradient);
            font-family: 'Cormorant Garamond', serif;
            overflow: hidden;
        }

        .container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
        }

        .envelope-wrapper {
            position: relative;
            width: var(--env-width);
            height: var(--env-height);
            transition: transform 0.6s ease-in-out;
            z-index: 10;
        }

        .envelope {
            position: relative;
            width: 100%;
            height: 100%;
            background: var(--env-dark);
            box-shadow: var(--shadow-soft);
            border-radius: 5px;
        }

        .pocket {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--env-color);
            clip-path: polygon(0 0, 50% 55%, 100% 0, 100% 100%, 0 100%);
            z-index: 20;
            pointer-events: none;
            filter: drop-shadow(0 -2px 5px rgba(0, 0, 0, 0.2));
        }

        .flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--env-flap);
            clip-path: polygon(0 0, 100% 0, 50% 55%);
            transform-origin: top;
            z-index: 30;
            transition: transform 0.8s ease-in-out, z-index 0.2s 0.4s;
        }

        .envelope-wrapper.open .flap {
            transform: rotateX(180deg);
            z-index: 1;
        }

        .letter {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            height: 85%;
            background: var(--paper-color);
            border-radius: 4px;
            z-index: 5;
            padding: 30px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.8s ease-in-out, top 0.8s ease-in-out, height 0.8s ease-in-out, width 0.8s ease-in-out, left 0.8s ease-in-out;
        }

        .letter::after {
            content: '';
            position: absolute;
            top: 10px;
            bottom: 10px;
            left: 10px;
            right: 10px;
            border: 1px solid var(--accent-gold);
            pointer-events: none;
        }

        .envelope-wrapper.open .letter.ejected {
            transform: translateX(-50%) translateY(-120%);
            z-index: 40;
            transition-delay: 0.6s;
        }

        .letter.centered {
            position: fixed !important;
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%, -50%) !important;
            width: min(90vw, 550px);
            height: min(80vh, 700px);
            bottom: auto;
            z-index: 100;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        .letter-content {
            font-family: 'Indie Flower', cursive;
            font-size: 1.4rem;
            line-height: 1.6;
            color: var(--text-color);
            opacity: 0;
            height: 100%;
            overflow-y: auto;
            margin-top: 10px;
            scrollbar-width: thin;
            scrollbar-color: var(--accent-gold) transparent;
        }

        .letter.centered .letter-content {
            opacity: 1;
            transition: opacity 1s ease 1s;
        }

        .input-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 50;
            text-align: center;
            width: 100%;
            transition: opacity 0.5s ease;
        }

        .input-container.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .label-from {
            color: var(--accent-gold);
            font-size: 1.2rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 30px;
            font-family: 'Playfair Display', serif;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6);
        }

        .label-to {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 5px;
            font-style: italic;
        }

        .name-input {
            background: transparent;
            border: none;
            border-bottom: 2px solid var(--accent-gold);
            padding: 10px;
            color: var(--paper-color);
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.6rem;
            text-align: center;
            width: 200px;
            outline: none;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
            transition: width 0.3s;
        }

        .name-input:focus {
            width: 250px;
            border-bottom-color: #fff;
        }

        .open-btn {
            display: block;
            margin: 20px auto 0;
            padding: 10px 40px;
            background: var(--accent-gold);
            color: var(--bg-color);
            border: none;
            border-radius: 30px;
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
            animation: pulse 2s infinite ease-in-out;
        }

        .open-btn:hover {
            transform: scale(1.05);
            background: #e6c35c;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            animation: none;
        }

        @media (max-width: 600px) {
            :root {
                --env-width: 90vw;
                --env-height: 250px;
            }

            .letter-content {
                font-size: 1.25rem;
            }
        }

        /* --- Floating Hearts --- */
        .hearts-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        .heart {
            position: absolute;
            color: rgba(212, 175, 55, 0.3);
            font-size: 20px;
            animation: floatUp 10s linear infinite;
            bottom: -50px;
            user-select: none;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 0.8;
            }

            90% {
                opacity: 0.5;
            }

            100% {
                transform: translateY(-110vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* --- Button Pulse --- */
        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            }

            50% {
                transform: scale(1.05);
                box-shadow: 0 8px 25px rgba(212, 175, 55, 0.4);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            }
        }

        /* --- Burst Heart --- */
        .burst-heart {
            position: absolute;
            font-size: 20px;
            color: #d4af37;
            pointer-events: none;
            animation: flyOut 1s ease-out forwards;
            z-index: 100;
        }

        @keyframes flyOut {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }

            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }

        /* ============================================ */
        /*     FINALE CONTAINER (Flower + Quote)        */
        /* ============================================ */
        .finale-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 200;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            background: var(--bg-gradient);
            opacity: 0;
            pointer-events: none;
            transition: opacity 2s ease-in-out;
            padding-bottom: 50px;
        }

        .finale-container.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .quote-text {
            font-family: 'Great Vibes', cursive;
            font-size: 2rem;
            color: #ffb7c5;
            text-align: center;
            max-width: 80%;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.8);
            opacity: 0;
            transform: translateY(20px);
            transition: all 1.5s ease-in-out 1.5s;
            position: absolute;
            top: 10%;
            width: 100%;
            z-index: 100;
        }

        .finale-container.visible .quote-text {
            opacity: 1;
            transform: translateY(0);
        }

        .butterfly {
            position: absolute;
            font-size: 40px;
            color: #d8bfd8;
            top: 40%;
            left: 60%;
            animation: flutter 3s infinite ease-in-out;
            opacity: 0;
            transition: opacity 1s 2.5s;
        }

        .finale-container.visible .butterfly {
            opacity: 1;
        }

        @keyframes flutter {

            0%,
            100% {
                transform: translate(0, 0) rotate(10deg) scaleX(1);
            }

            50% {
                transform: translate(10px, -20px) rotate(-10deg) scaleX(0.8);
            }
        }

        /* ============================================ */
        /*           CSS FLOWER ANIMATION               */
        /* ============================================ */
        .night {
            position: absolute;
            left: 50%;
            top: 0;
            transform: translateX(-50%);
            width: 100%;
            height: 100%;
            filter: blur(0.1vmin);
            z-index: -1;
        }

        .flowers {
            position: relative;
            transform: scale(0.6);
        }

        .flower {
            position: absolute;
            bottom: 10vmin;
            transform-origin: bottom center;
            z-index: 10;
            --fl-speed: 0.8s;
        }

        .flower--1 {
            animation: moving-flower-1 4s linear infinite;
        }

        .flower--1 .flower__line {
            height: 70vmin;
            animation-delay: 0.3s;
        }

        .flower--1 .flower__line__leaf--1 {
            animation: blooming-leaf-right var(--fl-speed) 1.6s backwards;
        }

        .flower--1 .flower__line__leaf--2 {
            animation: blooming-leaf-right var(--fl-speed) 1.4s backwards;
        }

        .flower--1 .flower__line__leaf--3 {
            animation: blooming-leaf-left var(--fl-speed) 1.2s backwards;
        }

        .flower--1 .flower__line__leaf--4 {
            animation: blooming-leaf-left var(--fl-speed) 1s backwards;
        }

        .flower--1 .flower__line__leaf--5 {
            animation: blooming-leaf-right var(--fl-speed) 1.8s backwards;
        }

        .flower--1 .flower__line__leaf--6 {
            animation: blooming-leaf-left var(--fl-speed) 2s backwards;
        }

        .flower--2 {
            left: 50%;
            transform: rotate(20deg);
            animation: moving-flower-2 4s linear infinite;
        }

        .flower--2 .flower__line {
            height: 60vmin;
            animation-delay: 0.6s;
        }

        .flower--2 .flower__line__leaf--1 {
            animation: blooming-leaf-right var(--fl-speed) 1.9s backwards;
        }

        .flower--2 .flower__line__leaf--2 {
            animation: blooming-leaf-right var(--fl-speed) 1.7s backwards;
        }

        .flower--2 .flower__line__leaf--3 {
            animation: blooming-leaf-left var(--fl-speed) 1.5s backwards;
        }

        .flower--2 .flower__line__leaf--4 {
            animation: blooming-leaf-left var(--fl-speed) 1.3s backwards;
        }

        .flower--3 {
            left: 50%;
            transform: rotate(-15deg);
            animation: moving-flower-3 4s linear infinite;
        }

        .flower--3 .flower__line {
            animation-delay: 0.9s;
        }

        .flower--3 .flower__line__leaf--1 {
            animation: blooming-leaf-right var(--fl-speed) 2.5s backwards;
        }

        .flower--3 .flower__line__leaf--2 {
            animation: blooming-leaf-right var(--fl-speed) 2.3s backwards;
        }

        .flower--3 .flower__line__leaf--3 {
            animation: blooming-leaf-left var(--fl-speed) 2.1s backwards;
        }

        .flower--3 .flower__line__leaf--4 {
            animation: blooming-leaf-left var(--fl-speed) 1.9s backwards;
        }

        .flower__leafs {
            position: relative;
            animation: blooming-flower 2s backwards;
        }

        .flower__leafs--1 {
            animation-delay: 1.1s;
        }

        .flower__leafs--2 {
            animation-delay: 1.4s;
        }

        .flower__leafs--3 {
            animation-delay: 1.7s;
        }

        .flower__leafs::after {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            transform: translate(-50%, -100%);
            width: 8vmin;
            height: 8vmin;
            background-color: #6bf0ff;
            filter: blur(10vmin);
        }

        .flower__leaf {
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 8vmin;
            height: 11vmin;
            border-radius: 51% 49% 47% 53% / 44% 45% 55% 56%;
            background-color: #353c44;
            transform-origin: bottom center;
            opacity: 0.9;
            box-shadow: inset 0 0 2vmin rgba(255, 255, 255, 0.5);
        }

        .flower__leaf--1 {
            transform: translate(-10%, 1%) rotateY(40deg) rotateX(-50deg);
        }

        .flower__leaf--2 {
            transform: translate(-50%, -4%) rotateX(40deg);
        }

        .flower__leaf--3 {
            transform: translate(-90%, 0%) rotateY(45deg) rotateX(50deg);
        }

        .flower__leaf--4 {
            width: 8vmin;
            height: 8vmin;
            transform-origin: bottom left;
            border-radius: 4vmin 10vmin 4vmin 4vmin;
            transform: translate(0%, 18%) rotateX(70deg) rotate(-43deg);
            background-image: linear-gradient(to top, #392660, #1a233a);
            z-index: 1;
            opacity: 0.8;
        }

        .flower__white-circle {
            position: absolute;
            left: -3.5vmin;
            top: -3vmin;
            width: 9vmin;
            height: 4vmin;
            border-radius: 50%;
            background-color: #fff;
        }

        .flower__white-circle::after {
            content: "";
            position: absolute;
            left: 50%;
            top: 45%;
            transform: translate(-50%, -50%);
            width: 60%;
            height: 60%;
            border-radius: 50%;
            background-color: rgba(0, 0, 0, 0.05);
        }

        .flower__line {
            height: 55vmin;
            width: 1.5vmin;
            background-image: linear-gradient(to left, rgba(0, 0, 0, 0.2), transparent, rgba(255, 255, 255, 0.2)),
                linear-gradient(to top, transparent 10%, #14757a, #39c6d6);
            box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.5);
            animation: grow-flower-tree 4s backwards;
        }

        .flower__line__leaf {
            --w: 7vmin;
            --h: calc(var(--w) + 2vmin);
            position: absolute;
            top: 20%;
            left: 90%;
            width: var(--w);
            height: var(--h);
            border-top-right-radius: var(--h);
            border-bottom-left-radius: var(--h);
            background-image: linear-gradient(to top, rgba(20, 117, 122, 0.4), #39c6d6);
        }

        .flower__line__leaf--1 {
            transform: rotate(70deg) rotateY(30deg);
        }

        .flower__line__leaf--2 {
            top: 45%;
            transform: rotate(70deg) rotateY(30deg);
        }

        .flower__line__leaf--3,
        .flower__line__leaf--4,
        .flower__line__leaf--6 {
            border-top-right-radius: 0;
            border-bottom-left-radius: 0;
            border-top-left-radius: var(--h);
            border-bottom-right-radius: var(--h);
            left: -460%;
            transform: rotate(-70deg) rotateY(30deg);
        }

        .flower__line__leaf--4 {
            top: 40%;
        }

        .flower__line__leaf--5 {
            top: 0;
            transform-origin: left;
            transform: rotate(70deg) rotateY(30deg) scale(0.6);
        }

        .flower__line__leaf--6 {
            top: -2%;
            left: -450%;
            transform-origin: right;
            transform: rotate(-70deg) rotateY(30deg) scale(0.6);
        }

        .flower__light {
            position: absolute;
            bottom: 0vmin;
            width: 1vmin;
            height: 1vmin;
            background-color: rgb(255, 251, 0);
            border-radius: 50%;
            filter: blur(0.2vmin);
            animation: light-ans 4s linear infinite backwards;
        }

        .flower__light:nth-child(even) {
            background-color: #39c6d6;
        }

        .flower__light--1 {
            left: -2vmin;
            animation-delay: 1s;
        }

        .flower__light--2 {
            left: 3vmin;
            animation-delay: 0.5s;
        }

        .flower__light--3 {
            left: -6vmin;
            animation-delay: 0.3s;
        }

        .flower__light--4 {
            left: 6vmin;
            animation-delay: 0.9s;
        }

        .flower__light--5 {
            left: -1vmin;
            animation-delay: 1.5s;
        }

        .flower__light--6 {
            left: -4vmin;
            animation-delay: 3s;
        }

        .flower__light--7 {
            left: 3vmin;
            animation-delay: 2s;
        }

        .flower__light--8 {
            left: -6vmin;
            animation-delay: 3.5s;
        }

        /* Extra plant elements */
        .grow-ans {
            animation: grow-ans 2s var(--d) backwards;
        }

        @keyframes grow-ans {
            0% {
                transform: scale(0);
                opacity: 0;
            }
        }

        .flower__g-long {
            width: 2vmin;
            height: 40vmin;
            left: 50%;
            transform: translateX(-50%);
            background-image: linear-gradient(to top, transparent 10%, #14757a, #39c6d6);
            position: absolute;
            bottom: 0;
            border-radius: 1vmin;
        }

        .flower__g-long__top {
            width: 7vmin;
            height: 7vmin;
            background-color: #39c6d6;
            border-radius: 50%;
            position: absolute;
            top: -3vmin;
            left: 50%;
            transform: translateX(-50%);
        }

        .flower__g-long__bottom {
            width: 5vmin;
            height: 5vmin;
            background-color: #14757a;
            border-radius: 50%;
            position: absolute;
            top: -1vmin;
            left: 50%;
            transform: translateX(-50%);
        }

        .flower__g-right {
            position: absolute;
            bottom: 5vmin;
            right: -5vmin;
            width: 3vmin;
            height: 30vmin;
            background-image: linear-gradient(to top, transparent 10%, #14757a, #39c6d6);
            border-top-right-radius: 100%;
            transform: rotate(10deg);
        }

        .flower__g-right--1 {
            right: 2vmin;
        }

        .flower__g-right--2 {
            right: -2vmin;
            height: 25vmin;
        }

        .flower__g-right .leaf {
            position: absolute;
            border-radius: 100%;
            width: 20vmin;
            height: 5vmin;
            background-image: linear-gradient(to left, rgba(20, 117, 122, 0.4), #39c6d6);
            top: 0;
            right: 0;
            transform-origin: right;
            transform: rotate(-30deg);
        }

        .flower__g-front {
            position: absolute;
            bottom: 0;
            left: 8vmin;
            width: 3vmin;
            height: 35vmin;
            background-image: linear-gradient(to top, transparent 10%, #14757a, #39c6d6);
            border-top-left-radius: 100%;
            z-index: 10;
        }

        .flower__g-front__leaf-wrapper {
            position: absolute;
            left: 0;
            top: 0;
            transform-origin: left;
            animation: blooming-leaf-left 0.8s backwards;
        }

        .flower__g-front__leaf-wrapper--1 {
            top: 5%;
            animation-delay: 2.8s;
        }

        .flower__g-front__leaf-wrapper--2 {
            top: 15%;
            animation-delay: 3s;
        }

        .flower__g-front__leaf-wrapper--3 {
            top: 25%;
            animation-delay: 3.2s;
        }

        .flower__g-front__leaf-wrapper--4 {
            top: 35%;
            animation-delay: 2.6s;
        }

        .flower__g-front__leaf-wrapper--5 {
            top: 45%;
            animation-delay: 3.4s;
        }

        .flower__g-front__leaf-wrapper--6 {
            top: 55%;
            animation-delay: 3.6s;
        }

        .flower__g-front__leaf-wrapper--7 {
            top: 65%;
            animation-delay: 2.4s;
        }

        .flower__g-front__leaf-wrapper--8 {
            top: 75%;
            animation-delay: 3.8s;
        }

        .flower__g-front__leaf {
            width: 10vmin;
            height: 3vmin;
            border-radius: 100%;
            background-image: linear-gradient(to right, rgba(20, 117, 122, 0.4), #39c6d6);
            transform: rotate(-20deg);
        }

        .flower__g-front__line {
            position: absolute;
            left: 0;
            top: 0;
            width: 1vmin;
            height: 100%;
            background-color: rgba(20, 117, 122, 0.5);
        }

        .flower__g-fr {
            position: absolute;
            bottom: 0;
            right: 5vmin;
            width: 3vmin;
            height: 30vmin;
            background-image: linear-gradient(to top, transparent 10%, #14757a, #39c6d6);
            border-top-right-radius: 100%;
        }

        .flower__g-fr .leaf {
            position: absolute;
            border-radius: 100%;
            width: 20vmin;
            height: 5vmin;
            background-image: linear-gradient(to left, rgba(20, 117, 122, 0.4), #39c6d6);
            top: 0;
            right: 0;
            transform-origin: right;
            transform: rotate(-30deg);
        }

        .flower__g-fr__leaf {
            position: absolute;
            width: 5vmin;
            height: 5vmin;
            background-color: #39c6d6;
            border-radius: 50%;
            opacity: 0.3;
        }

        .flower__g-fr__leaf--1 {
            top: -3vmin;
            left: -3vmin;
        }

        .flower__g-fr__leaf--2 {
            top: -1vmin;
            left: 1vmin;
        }

        .flower__g-fr__leaf--3 {
            top: 2vmin;
            left: -2vmin;
        }

        .flower__g-fr__leaf--4 {
            top: 5vmin;
            left: 0;
        }

        .flower__g-fr__leaf--5 {
            top: 8vmin;
            left: -3vmin;
        }

        .flower__g-fr__leaf--6 {
            top: 11vmin;
            left: 1vmin;
        }

        .flower__g-fr__leaf--7 {
            top: 14vmin;
            left: -1vmin;
        }

        .flower__g-fr__leaf--8 {
            top: 17vmin;
            left: -3vmin;
        }

        .flower__grass {
            position: absolute;
            bottom: 0;
            width: 5vmin;
            height: 20vmin;
        }

        .flower__grass--1 {
            left: -2vmin;
        }

        .flower__grass--2 {
            left: 12vmin;
        }

        .flower__grass--top {
            width: 100%;
            height: 50%;
            background-image: linear-gradient(to top, transparent 10%, #14757a, #39c6d6);
            border-top-left-radius: 100%;
            border-top-right-radius: 100%;
        }

        .flower__grass--bottom {
            width: 100%;
            height: 50%;
            background-color: #14757a;
        }

        .flower__grass__leaf {
            position: absolute;
            width: 6vmin;
            height: 2vmin;
            border-radius: 100%;
            background-color: #39c6d6;
            opacity: 0.4;
        }

        .flower__grass__leaf--1 {
            left: -2vmin;
            top: 30%;
        }

        .flower__grass__leaf--2 {
            left: 2vmin;
            top: 40%;
        }

        .flower__grass__leaf--3 {
            left: -1vmin;
            top: 50%;
        }

        .flower__grass__leaf--4 {
            left: 3vmin;
            top: 60%;
        }

        .flower__grass__leaf--5 {
            left: -3vmin;
            top: 20%;
        }

        .flower__grass__leaf--6 {
            left: 1vmin;
            top: 70%;
        }

        .flower__grass__leaf--7 {
            left: -2vmin;
            top: 80%;
        }

        .flower__grass__leaf--8 {
            left: 2vmin;
            top: 10%;
        }

        .flower__grass__overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100%;
            background-image: linear-gradient(to top, rgba(0, 0, 0, 0.3), transparent);
        }

        .growing-grass {
            animation: growing-grass-ans 1s 2s backwards;
        }

        @keyframes growing-grass-ans {
            0% {
                transform: scale(0);
            }
        }

        .long-g {
            position: absolute;
            bottom: 0;
            width: 2vmin;
            height: 35vmin;
            background-image: linear-gradient(to top, transparent 10%, #14757a, #39c6d6);
            border-top-left-radius: 100%;
        }

        .long-g--0 {
            left: -7vmin;
            height: 30vmin;
        }

        .long-g--1 {
            left: -4vmin;
            height: 35vmin;
        }

        .long-g--2 {
            left: 0vmin;
            height: 25vmin;
        }

        .long-g--3 {
            left: 3vmin;
            height: 28vmin;
        }

        .long-g--4 {
            right: -5vmin;
            height: 32vmin;
        }

        .long-g--5 {
            right: -2vmin;
            height: 26vmin;
        }

        .long-g--6 {
            right: 1vmin;
            height: 30vmin;
        }

        .long-g--7 {
            right: 4vmin;
            height: 22vmin;
        }

        .long-g .leaf {
            position: absolute;
            width: 6vmin;
            height: 2vmin;
            border-radius: 100%;
            background-image: linear-gradient(to left, rgba(20, 117, 122, 0.4), #39c6d6);
        }

        .long-g .leaf--0 {
            top: 0;
            left: 0;
            transform: rotate(-20deg);
        }

        .long-g .leaf--1 {
            top: 30%;
            left: -2vmin;
            transform: rotate(20deg);
        }

        .long-g .leaf--2 {
            top: 55%;
            left: 1vmin;
            transform: rotate(-30deg);
        }

        .long-g .leaf--3 {
            top: 80%;
            left: -1vmin;
            transform: rotate(10deg);
        }

        /* Flower keyframes */
        @keyframes moving-flower-1 {

            0%,
            100% {
                transform: rotate(2deg);
            }

            50% {
                transform: rotate(-2deg);
            }
        }

        @keyframes moving-flower-2 {

            0%,
            100% {
                transform: rotate(18deg);
            }

            50% {
                transform: rotate(22deg);
            }
        }

        @keyframes moving-flower-3 {

            0%,
            100% {
                transform: rotate(-18deg);
            }

            50% {
                transform: rotate(-22deg);
            }
        }

        @keyframes blooming-leaf-right {
            0% {
                transform-origin: left;
                transform: rotate(70deg) rotateY(30deg) scale(0);
            }
        }

        @keyframes blooming-leaf-left {
            0% {
                transform-origin: right;
                transform: rotate(-70deg) rotateY(30deg) scale(0);
            }
        }

        @keyframes grow-flower-tree {
            0% {
                height: 0;
                border-radius: 1vmin;
            }
        }

        @keyframes blooming-flower {
            0% {
                transform: scale(0);
            }
        }

        @keyframes light-ans {
            0% {
                opacity: 0;
                transform: translateY(0vmin);
            }

            25% {
                opacity: 1;
                transform: translateY(-5vmin) translateX(-2vmin);
            }

            50% {
                opacity: 1;
                transform: translateY(-15vmin) translateX(2vmin);
                filter: blur(0.2vmin);
            }

            75% {
                transform: translateY(-20vmin) translateX(-2vmin);
                filter: blur(0.2vmin);
            }

            100% {
                transform: translateY(-30vmin);
                opacity: 0;
                filter: blur(1vmin);
            }
        }
    </style>
</head>

<body>

    <!-- Background Hearts -->
    <div class="hearts-container" id="heartsContainer"></div>

    <audio id="bg-music" loop>
        <source src="backsound-jesuslovesme.mp3" type="audio/mpeg">
    </audio>

    <div class="container">
        <div class="envelope-wrapper" id="envelopeWrapper">
            <div class="envelope">
                <div class="flap"></div>
                <div class="letter" id="letter">
                    <div class="letter-content" id="letterText"></div>
                </div>
                <div class="pocket"></div>
                <div class="input-container" id="inputContainer">
                    <div class="label-from">From: God</div>
                    <div class="label-to">To:</div>
                    <input type="text" class="name-input" id="nameInput" placeholder="Your Name" autocomplete="off">
                    <button class="open-btn" id="openBtn">Open</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Finale Container -->
    <div class="finale-container" id="finaleContainer">
        <div class="quote-text">
            "Bunga di ladang saja Aku rawat,<br>apalagi engkau..."
            <br><span style="font-size: 1rem; margin-top: 10px; display:block;">(Matius 6 : 28)</span>
        </div>
        <div class="butterfly">&#x1F98B;</div>

        <!-- CSS Flowers -->
        <div class="night"></div>
        <div class="flowers">
            <div class="flower flower--1">
                <div class="flower__leafs flower__leafs--1">
                    <div class="flower__leaf flower__leaf--1"></div>
                    <div class="flower__leaf flower__leaf--2"></div>
                    <div class="flower__leaf flower__leaf--3"></div>
                    <div class="flower__leaf flower__leaf--4"></div>
                    <div class="flower__white-circle"></div>
                    <div class="flower__light flower__light--1"></div>
                    <div class="flower__light flower__light--2"></div>
                    <div class="flower__light flower__light--3"></div>
                    <div class="flower__light flower__light--4"></div>
                    <div class="flower__light flower__light--5"></div>
                    <div class="flower__light flower__light--6"></div>
                    <div class="flower__light flower__light--7"></div>
                    <div class="flower__light flower__light--8"></div>
                </div>
                <div class="flower__line">
                    <div class="flower__line__leaf flower__line__leaf--1"></div>
                    <div class="flower__line__leaf flower__line__leaf--2"></div>
                    <div class="flower__line__leaf flower__line__leaf--3"></div>
                    <div class="flower__line__leaf flower__line__leaf--4"></div>
                    <div class="flower__line__leaf flower__line__leaf--5"></div>
                    <div class="flower__line__leaf flower__line__leaf--6"></div>
                </div>
            </div>

            <div class="flower flower--2">
                <div class="flower__leafs flower__leafs--2">
                    <div class="flower__leaf flower__leaf--1"></div>
                    <div class="flower__leaf flower__leaf--2"></div>
                    <div class="flower__leaf flower__leaf--3"></div>
                    <div class="flower__leaf flower__leaf--4"></div>
                    <div class="flower__white-circle"></div>
                    <div class="flower__light flower__light--1"></div>
                    <div class="flower__light flower__light--2"></div>
                    <div class="flower__light flower__light--3"></div>
                    <div class="flower__light flower__light--4"></div>
                    <div class="flower__light flower__light--5"></div>
                    <div class="flower__light flower__light--6"></div>
                    <div class="flower__light flower__light--7"></div>
                    <div class="flower__light flower__light--8"></div>
                </div>
                <div class="flower__line">
                    <div class="flower__line__leaf flower__line__leaf--1"></div>
                    <div class="flower__line__leaf flower__line__leaf--2"></div>
                    <div class="flower__line__leaf flower__line__leaf--3"></div>
                    <div class="flower__line__leaf flower__line__leaf--4"></div>
                </div>
            </div>

            <div class="flower flower--3">
                <div class="flower__leafs flower__leafs--3">
                    <div class="flower__leaf flower__leaf--1"></div>
                    <div class="flower__leaf flower__leaf--2"></div>
                    <div class="flower__leaf flower__leaf--3"></div>
                    <div class="flower__leaf flower__leaf--4"></div>
                    <div class="flower__white-circle"></div>
                    <div class="flower__light flower__light--1"></div>
                    <div class="flower__light flower__light--2"></div>
                    <div class="flower__light flower__light--3"></div>
                    <div class="flower__light flower__light--4"></div>
                    <div class="flower__light flower__light--5"></div>
                    <div class="flower__light flower__light--6"></div>
                    <div class="flower__light flower__light--7"></div>
                    <div class="flower__light flower__light--8"></div>
                </div>
                <div class="flower__line">
                    <div class="flower__line__leaf flower__line__leaf--1"></div>
                    <div class="flower__line__leaf flower__line__leaf--2"></div>
                    <div class="flower__line__leaf flower__line__leaf--3"></div>
                    <div class="flower__line__leaf flower__line__leaf--4"></div>
                </div>
            </div>

            <div class="grow-ans" style="--d:1.2s">
                <div class="flower__g-long">
                    <div class="flower__g-long__top"></div>
                    <div class="flower__g-long__bottom"></div>
                </div>
            </div>

            <div class="growing-grass">
                <div class="flower__grass flower__grass--1">
                    <div class="flower__grass--top"></div>
                    <div class="flower__grass--bottom"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--1"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--2"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--3"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--4"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--5"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--6"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--7"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--8"></div>
                    <div class="flower__grass__overlay"></div>
                </div>
            </div>

            <div class="growing-grass">
                <div class="flower__grass flower__grass--2">
                    <div class="flower__grass--top"></div>
                    <div class="flower__grass--bottom"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--1"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--2"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--3"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--4"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--5"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--6"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--7"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--8"></div>
                    <div class="flower__grass__overlay"></div>
                </div>
            </div>

            <div class="grow-ans" style="--d:2.4s">
                <div class="flower__g-right flower__g-right--1">
                    <div class="leaf"></div>
                </div>
            </div>
            <div class="grow-ans" style="--d:2.8s">
                <div class="flower__g-right flower__g-right--2">
                    <div class="leaf"></div>
                </div>
            </div>

            <div class="grow-ans" style="--d:2.8s">
                <div class="flower__g-front">
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--1">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--2">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--3">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--4">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--5">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--6">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--7">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--8">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__line"></div>
                </div>
            </div>

            <div class="grow-ans" style="--d:3.2s">
                <div class="flower__g-fr">
                    <div class="leaf"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--1"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--2"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--3"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--4"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--5"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--6"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--7"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--8"></div>
                </div>
            </div>

            <div class="long-g long-g--0">
                <div class="grow-ans" style="--d:3s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:2.2s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3.4s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--1">
                <div class="grow-ans" style="--d:3.6s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:3.8s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:4s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--2">
                <div class="grow-ans" style="--d:4s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:4.4s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:4.6s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--3">
                <div class="grow-ans" style="--d:4s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--4">
                <div class="grow-ans" style="--d:4s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--5">
                <div class="grow-ans" style="--d:4s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--6">
                <div class="grow-ans" style="--d:4.2s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.4s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:4.6s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:4.8s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--7">
                <div class="grow-ans" style="--d:3s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:3.2s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3.5s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const openBtn = document.getElementById('openBtn');
        const nameInput = document.getElementById('nameInput');
        const envelopeWrapper = document.getElementById('envelopeWrapper');
        const letter = document.getElementById('letter');
        const inputContainer = document.getElementById('inputContainer');
        const letterText = document.getElementById('letterText');
        const audio = document.getElementById('bg-music');

        const messageTemplates = [
            (name) => `My beloved child ${name},

I know you. I know when you sit and when you rise; I perceive your thoughts from afar. You are hemmed in by Me, behind and before.

You are fearfully and wonderfully made. Do not let your heart be troubled. In this vast world, you are never just a face in the crowd to Me\u2014you are My masterpiece.

When you feel weak, I am your strength. When you feel lost, I am your way. Rest in my love today, for it is unchanging and eternal.

Forever yours,
God`,

            (name) => `Dearest ${name},

I have loved you with an everlasting love. Before a single day of your life came to be, I saw you and smiled.

Do not worry about tomorrow, for I hold your future in My hands. When you walk through the fire, you shall not be burned; when you pass through deep waters, I will be with you.

Come to Me when you are weary, and I will give you rest. My grace is sufficient for you, and My power is made perfect in weakness.

With infinite love,
God`,

            (name) => `My precious ${name},

You are vital to Me. I created you with a purpose that only you can fulfill. Don\u2019t compare your path with others; I am writing a unique story just for you.

If you ever feel alone, remember I am closer than your very breath. Call to Me, and I will answer.

Be strong and courageous. Do not be afraid, do not be discouraged, for I, the Lord your God, will be with you wherever you go.

Always by your side,
God`,

            (name) => `To my child ${name},

Peace I leave with you; my peace I give you. I do not give to you as the world gives. Do not let your hearts be troubled and do not be afraid.

You are seen. You are heard. You are deeply loved, not for what you do, but for who you are\u2014My child.

Keep your eyes on Me. I am your refuge and your fortress, your God, in whom you can trust.

Love always,
God`
        ];

        const openEnvelope = () => {
            const name = nameInput.value.trim();
            if (!name) {
                nameInput.style.borderBottomColor = 'red';
                setTimeout(() => nameInput.style.borderBottomColor = '#d4af37', 500);
                return;
            }

            const displayName = name.charAt(0).toUpperCase() + name.slice(1);
            const randomIndex = Math.floor(Math.random() * messageTemplates.length);
            const selectedMessage = messageTemplates[randomIndex](displayName);

            inputContainer.classList.add('hidden');

            audio.volume = 0.4;
            audio.play().catch(console.warn);

            setTimeout(() => { envelopeWrapper.classList.add('open'); }, 100);
            setTimeout(() => { letter.classList.add('ejected'); }, 800);
            setTimeout(() => {
                letter.classList.remove('ejected');
                letter.classList.add('centered');
            }, 1800);
            setTimeout(() => { typeWriter(selectedMessage, 0); }, 2800);
        };

        function typeWriter(text, i) {
            if (i < text.length) {
                const char = text.charAt(i);
                letterText.innerHTML += (char === '\n') ? '<br>' : char;
                letterText.scrollTop = letterText.scrollHeight;
                setTimeout(() => typeWriter(text, i + 1), Math.random() * 50 + 30);
            } else {
                // Typing finished! 10 second  to show finale
                setTimeout(showFinale, 10000);
            }
        }

        function showFinale() {
            const finaleContainer = document.getElementById('finaleContainer');
            letter.style.transition = 'opacity 2s ease';
            letter.style.opacity = '0';
            setTimeout(() => {
                finaleContainer.classList.add('visible');
            }, 500);
        }

        openBtn.addEventListener('click', openEnvelope);
        nameInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') openEnvelope();
        });

        /* --- Romantic Effects --- */
        const heartsContainer = document.getElementById('heartsContainer');
        const heartSymbols = ['\u2764', '\u2665', '\u2661', '\u2763', '\u10E6'];

        function createFloatingHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 5 + 5) + 's';
            heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
            heart.style.color = `rgba(212, 175, 55, ${Math.random() * 0.3 + 0.1})`;
            heartsContainer.appendChild(heart);
            setTimeout(() => { heart.remove(); }, 10000);
        }
        setInterval(createFloatingHeart, 800);

        function createHeartBurst(x, y) {
            for (let i = 0; i < 15; i++) {
                const burst = document.createElement('div');
                burst.classList.add('burst-heart');
                burst.innerHTML = '\u2764';
                burst.style.left = x + 'px';
                burst.style.top = y + 'px';
                const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * 100 + 50;
                burst.style.setProperty('--tx', `${Math.cos(angle) * distance}px`);
                burst.style.setProperty('--ty', `${Math.sin(angle) * distance}px`);
                burst.style.color = (Math.random() > 0.5) ? '#d4af37' : '#fff';
                document.body.appendChild(burst);
                setTimeout(() => burst.remove(), 1000);
            }
        }

        openBtn.addEventListener('click', () => {
            const rect = openBtn.getBoundingClientRect();
            createHeartBurst(rect.left + rect.width / 2, rect.top + rect.height / 2);
        });
    </script>
</body>

</html>